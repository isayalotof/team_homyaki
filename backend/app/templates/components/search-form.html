{% macro search_form(countries=[], tour_types=[], class_name="") %}
<div class="search-form {{ class_name }}">
    <form action="/search" method="get">
        <div class="search-form__container">
            <div class="row g-3">
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label for="destination" class="form-label">Направление</label>
                        <select class="form-select" id="destination" name="country">
                            <option value="">Все направления</option>
                            {% for country in countries %}
                            <option value="{{ country }}">{{ country }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                
                <div class="col-lg-3 col-md-6">
                    <div class="form-group">
                        <label for="date_from" class="form-label">Дата начала</label>
                        <input type="date" class="form-control" id="date_from" name="date_from" min="{{ now.strftime('%Y-%m-%d') }}">
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4">
                    <div class="form-group">
                        <label for="duration" class="form-label">Длительность</label>
                        <select class="form-select" id="duration" name="duration">
                            <option value="">Любая</option>
                            <option value="1-3">1-3 дня</option>
                            <option value="4-7">4-7 дней</option>
                            <option value="8-14">8-14 дней</option>
                            <option value="15+">от 15 дней</option>
                        </select>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4">
                    <div class="form-group">
                        <label for="tour_type" class="form-label">Тип тура</label>
                        <select class="form-select" id="tour_type" name="tour_type">
                            <option value="">Любой</option>
                            {% for tour_type in tour_types %}
                            <option value="{{ tour_type.id }}">{{ tour_type.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-4">
                    <div class="form-group">
                        <label for="price_max" class="form-label">Бюджет до</label>
                        <input type="number" class="form-control" id="price_max" name="price_max" placeholder="₽" min="0" step="1000">
                    </div>
                </div>
                
                <div class="col-12 d-flex justify-content-center">
                    <button type="submit" class="btn btn-primary search-form__button">
                        <i class="fas fa-search me-2"></i>Найти туры
                    </button>
                    
                    <button type="button" class="btn btn-link ms-3" data-bs-toggle="collapse" data-bs-target="#advancedSearch">
                        <i class="fas fa-sliders-h me-1"></i>Расширенный поиск
                    </button>
                </div>
            </div>
            
            <div class="collapse mt-3" id="advancedSearch">
                <div class="card card-body bg-light">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="hotel_stars" class="form-label">Категория отеля</label>
                                <select class="form-select" id="hotel_stars" name="hotel_stars">
                                    <option value="">Любая</option>
                                    <option value="3">3★ и выше</option>
                                    <option value="4">4★ и выше</option>
                                    <option value="5">5★</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="meal_type" class="form-label">Тип питания</label>
                                <select class="form-select" id="meal_type" name="meal_type">
                                    <option value="">Любой</option>
                                    <option value="RO">Без питания (RO)</option>
                                    <option value="BB">Завтраки (BB)</option>
                                    <option value="HB">Полупансион (HB)</option>
                                    <option value="FB">Полный пансион (FB)</option>
                                    <option value="AI">Всё включено (AI)</option>
                                    <option value="UAI">Ультра всё включено (UAI)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="form-label">Дополнительно</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="hot_deals" name="hot_deals" value="1">
                                    <label class="form-check-label" for="hot_deals">Только горящие туры</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="with_discount" name="with_discount" value="1">
                                    <label class="form-check-label" for="with_discount">Со скидкой</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
{% endmacro %} 